<!--The content below is only a placeholder and can be replaced.-->
<div class="fullscreen">
  <video #video [loop]="true" [muted]="true" [autoplay]="true" class="fullscreen-bg__video">
    <source src="/assets/bg.mp4" type="video/mp4">
  </video>

  <div class="wrapper">
    <div style="text-align:center">
      <h1>RETRO FUNTIME</h1>
    </div>
    <form class="form" [@slideOut] *ngIf="!submitted">
      <label for="temp">Temp: <b>{{temp}}</b></label>
      <input id="temp" name="temp" type="range" min="1" max="5" step=".1" [(ngModel)]="temp" [disabled]="submitted"/>

      <label for="safety">Safety: <b>{{safety}}</b></label>
      <input id="safety" name="safety" type="range" min="1" max="5" step=".1" [(ngModel)]="safety"
             [disabled]="submitted"/>

      <button class="btn primary" type="submit" (click)="submit($event)" [disabled]="submitted">Submit</button>
    </form>

    <div class="clearfix" *ngIf="results">
      <h4>Number of responses: {{ results.numResults }}</h4>
      <table class="temp-table">
        <tr>
          <td style="width: 80px;">Temp Low:</td>
          <td><b>{{ results.tempResults.min }}</b></td>
        </tr>
        <tr>
          <td style="width: 80px;">Temp High:</td>
          <td><b>{{ results.tempResults.max }}</b></td>
        </tr>
        <tr>
          <td style="width: 80px;">Temp Avg:</td>
          <td><b>{{ results.tempResults.avg | number:'1.0-2' }}</b></td>
        </tr>
      </table>
      <table class="safety-table">
        <tr>
          <td style="width: 85px;">Safety Low:</td>
          <td><b>{{ results.safetyResults.min }}</b></td>
        </tr>
        <tr>
          <td style="width: 85px;">Safety High:</td>
          <td><b>{{ results.safetyResults.max }}</b></td>
        </tr>
        <tr>
          <td style="width: 85px;">Safety Avg:</td>
          <td><b>{{ results.safetyResults.avg | number:'1.0-2' }}</b></td>
        </tr>
      </table>
    </div>
    <div style="margin-top: 10px;">
      <textarea class="true-confession"
                placeholder="true confession"
                [@slideOut]
                *ngIf="!submittedTrueConfession"
                [(ngModel)]="trueConfession"
                [maxLength]="120"
                (keydown.enter)="submitTrueConfession()">
      </textarea>
      <span *ngIf="!submittedTrueConfession" style="float:right; font-size: xx-small;">{{trueConfession.length}}/120</span>
      <div class="confessions" *ngIf="trueConfessions">
        <p *ngFor="let trueConfession of trueConfessions.reverse()" [@disappear]>
          {{trueConfession}}
        </p>
      </div>
    </div>
  </div>

  <a href="#" class="left" (click)="clear()">RESET</a>
  <a href="#" class="right" (click)="toggleVideo(video)">
    {{ videoPlaying ? 'MAKE IT STOP!' : 'I regret that'}}
  </a>
</div>
